package au.edu.uq.itee.csse2002.sem12011.impl;

import java.awt.*;
import javax.swing.*;
import java.awt.event.*;

/**
 * An implementation of the start screen
 * add your name, choose the number of opponents, start game, exit game
 * 
 * @author itz_eleri
 *
 */

public class View extends JFrame{
	private static final int WIDTH = 550;
	private static final int HEIGHT = 300;
	
	private JLabel welcomeL, newPlayerL, numberOfOpponentsL, emptyL;
	private JTextField newPlayerTF;
	private JButton startGameB, exitB;
	private JRadioButton oneOpponentRB;
	private JRadioButton twoOpponentsRB;
	private JRadioButton threeOpponentsRB;
	
	private StartGameButtonHandler sgbHandler;
	private ExitButtonHandler ebHandler;

	public View() {
		welcomeL = new JLabel("Welcome to 'A Student's Life'", SwingConstants.CENTER);
		emptyL = new JLabel(" ");
		newPlayerL = new JLabel("Enter your name: ", SwingConstants.RIGHT);
		newPlayerTF = new JTextField(10);
		numberOfOpponentsL = new JLabel("Choose your number of opponents: ", 
				SwingConstants.CENTER);
		//Radio Button - Selecting Opponents
		oneOpponentRB = new JRadioButton("1 Opponent");
		oneOpponentRB.setActionCommand("oneOpponent");
//		oneOpponentRB.addActionListener(opponentListener);
		oneOpponentRB.setSelected(true);
		twoOpponentsRB = new JRadioButton("2 Opponents");
		twoOpponentsRB.setActionCommand("twoOpponents");
//		twoOpponentsRB.addActionListener(opponentListener);
		threeOpponentsRB = new JRadioButton("3 Opponents");
		threeOpponentsRB.setActionCommand("threeOpponents");
//		threeOpponentsRB.addActionListener(opponentListener);

		
		ButtonGroup numberOfOpponents = new ButtonGroup();
		numberOfOpponents.add(oneOpponentRB);
		numberOfOpponents.add(twoOpponentsRB);
		numberOfOpponents.add(threeOpponentsRB);
		
		//Specify handlers and adds ActionListeners to start and exit buttons.
		startGameB = new JButton("Start Game");
		sgbHandler = new StartGameButtonHandler();  
		startGameB.addActionListener(sgbHandler);
		exitB = new JButton("Exit Game");
		ebHandler = new ExitButtonHandler();
		exitB.addActionListener(ebHandler);
		
		setTitle("A Students Life");
		Container pane = getContentPane();
		pane.setLayout(new GridLayout(4,2));
		
		Container opponentPane = new JPanel();
		opponentPane.setLayout(new GridLayout(4,1));
		// RadioButton JPanel inside pane
		opponentPane.add(oneOpponentRB);
		opponentPane.add(twoOpponentsRB);
		opponentPane.add(threeOpponentsRB);
		
		pane.add(welcomeL);
		pane.add(emptyL);
		pane.add(newPlayerL);
		pane.add(newPlayerTF);
		pane.add(numberOfOpponentsL);
		pane.add(opponentPane);
		pane.add(startGameB);
		pane.add(exitB);
		setSize(WIDTH, HEIGHT);
		setVisible(true);
		setDefaultCloseOperation(EXIT_ON_CLOSE);
	
		
	}
	
	private class StartGameButtonHandler implements ActionListener{
	public void actionPerformed(ActionEvent e){
	//TODO
		//stores name of player
//		if(newPlayerTF != null){
//			AbstractPlayer.addOpponent().name(newPlayerTF);
//		}
//		//creates selected number of opponents
//		if(oneOpponentRB.isSelected()){
//			AbstractPlayer.addOpponent().name(opponent1);
//		}else if (twoOpponentsRB.isSelected()){
//			AbstractPlayer.addOpponent().name(opponent1);
//			AbstractPlayer.addOpponent().name(opponent2);
//		}else if(threeOpponentsRB.isSelected()){
//			AbstractPlayer.addOpponent().name(opponent1);
//			AbstractPlayer.addOpponent().name(opponent2);
//			AbstractPlayer.addOpponent().name(opponent3);
//		}	
//			
			
		System.load("game");
	}
	}
	public class ExitButtonHandler implements ActionListener {
	public void actionPerformed(ActionEvent e) {
		System.exit(0);
	}
	}
	public void windowOpened(WindowEvent e) {}
	public void windowActivated(WindowEvent e) {}
	public void windowDeactivated(WindowEvent e) {}
	public void windowClosed(WindowEvent e) {}

}
